<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Satellite Tracker 3D</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #000;
            color: #ffffff;
            overflow: hidden;
            height: 100vh;
        }

        #container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        #ui-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }

        .panel {
            background: rgba(15, 15, 15, 0.85);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 4px;
            pointer-events: auto;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.4);
        }

        #top-bar {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(0, 0, 0, 0.8);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        #logo {
            font-size: 20px;
            font-weight: 600;
            color: #4a9eff;
        }

        #location-bar {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        #location-input {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            padding: 8px 12px;
            color: #ffffff;
            font-size: 13px;
            width: 280px;
        }

        #location-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        #update-btn {
            background: #4a9eff;
            border: none;
            border-radius: 2px;
            padding: 8px 16px;
            color: white;
            cursor: pointer;
            font-size: 13px;
            transition: background 0.2s;
        }

        #update-btn:hover {
            background: #3a8eef;
        }

        #left-panel {
            position: absolute;
            left: 20px;
            top: 80px;
            bottom: 20px;
            width: 300px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        #satellite-list {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }

        #satellite-list h3 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #ffffff;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .satellite-category {
            margin-bottom: 20px;
        }

        .category-header {
            font-size: 12px;
            color: #888;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .satellite-item {
            display: flex;
            align-items: center;
            padding: 6px 8px;
            border-radius: 2px;
            cursor: pointer;
            transition: background 0.15s;
            font-size: 12px;
            margin-bottom: 1px;
        }

        .satellite-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .satellite-item.selected {
            background: rgba(74, 158, 255, 0.2);
            border-left: 2px solid #4a9eff;
        }

        .sat-indicator {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            margin-right: 8px;
            opacity: 0.8;
        }

        .starlink { background: #00ff41; }
        .iss { background: #ff4757; }
        .gps { background: #3742fa; }
        .weather { background: #ffa502; }
        .communication { background: #2ed573; }

        .sat-name {
            flex: 1;
            color: #ffffff;
        }

        .sat-altitude {
            color: #666;
            font-size: 11px;
        }

        #right-panel {
            position: absolute;
            right: 20px;
            top: 80px;
            width: 280px;
            height: auto;
            max-height: calc(100vh - 100px);
            transform: translateX(320px);
            transition: transform 0.3s ease;
        }

        #right-panel.active {
            transform: translateX(0);
        }

        #satellite-info {
            padding: 16px;
        }

        #satellite-info h3 {
            font-size: 16px;
            margin-bottom: 16px;
            color: #4a9eff;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 16px;
        }

        .info-item {
            background: rgba(255, 255, 255, 0.03);
            padding: 8px;
            border-radius: 2px;
        }

        .info-label {
            font-size: 10px;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .info-value {
            font-size: 13px;
            color: #ffffff;
            font-weight: 500;
        }

        #controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            display: flex;
            gap: 8px;
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            padding: 8px 12px;
            color: #ffffff;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .control-btn.active {
            background: #4a9eff;
            border-color: #4a9eff;
        }

        #time-display {
            position: absolute;
            bottom: 20px;
            right: 20px;
            font-size: 12px;
            color: #888;
        }

        #loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 1000;
        }

        .spinner {
            width: 32px;
            height: 32px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-top: 2px solid #4a9eff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 12px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        ::-webkit-scrollbar {
            width: 4px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="loading">
            <div class="spinner"></div>
            <p>Loading satellites...</p>
        </div>

        <div id="ui-overlay">
            <div id="top-bar">
                <div id="logo">Satellite Tracker</div>
                <div id="location-bar">
                    <input type="text" id="location-input" placeholder="Enter location (e.g., New York, NY)" />
                    <button id="update-btn" onclick="updateLocation()">Update</button>
                </div>
            </div>

            <div id="left-panel" class="panel">
                <div id="satellite-list">
                    <h3>Active Satellites</h3>
                    <div id="categories"></div>
                </div>
            </div>

            <div id="right-panel" class="panel">
                <div id="satellite-info">
                    <h3 id="sat-title">Select a satellite</h3>
                    <div id="sat-details"></div>
                </div>
            </div>

            <div id="controls">
                <button class="control-btn active" onclick="setView('earth')">Earth View</button>
                <button class="control-btn" onclick="setView('ground')">Ground View</button>
                <button class="control-btn" onclick="toggleOrbits()">Toggle Orbits</button>
            </div>

            <div id="time-display">
                <div id="current-time"></div>
            </div>
        </div>
    </div>

    <script>
        let scene, camera, renderer, earth, earthGroup, satellites = [];
        let currentView = 'earth';
        let selectedSatellite = null;
        let showOrbits = true;
        let controls = { mouseX: 0, mouseY: 0, isMouseDown: false };
        let cameraTarget = new THREE.Vector3();

        const EARTH_RADIUS = 100;
        
        // Enhanced satellite data
        const satelliteData = [
            // Starlink
            ...Array.from({length: 24}, (_, i) => ({
                name: `Starlink-${i + 1001}`,
                type: 'starlink',
                altitude: 550,
                inclination: 53.2,
                raan: i * 15,
                speed: 7.66,
                phase: (i / 24) * Math.PI * 2
            })),
            // ISS
            {
                name: 'International Space Station',
                type: 'iss',
                altitude: 408,
                inclination: 51.6,
                raan: 0,
                speed: 7.66,
                phase: 0
            },
            // GPS
            ...Array.from({length: 12}, (_, i) => ({
                name: `GPS-${i + 1}`,
                type: 'gps',
                altitude: 20200,
                inclination: 55,
                raan: i * 30,
                speed: 3.87,
                phase: (i / 12) * Math.PI * 2
            })),
            // Weather satellites
            ...Array.from({length: 6}, (_, i) => ({
                name: `NOAA-${i + 15}`,
                type: 'weather',
                altitude: 850,
                inclination: 98.7,
                raan: i * 60,
                speed: 7.4,
                phase: (i / 6) * Math.PI * 2
            })),
            // Communication satellites
            ...Array.from({length: 8}, (_, i) => ({
                name: `Intelsat-${i + 20}`,
                type: 'communication',
                altitude: 35786,
                inclination: 0,
                raan: i * 45,
                speed: 3.07,
                phase: (i / 8) * Math.PI * 2
            }))
        ];

        function init() {
            // Scene
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x000000);

            // Camera
            camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 50000);
            camera.position.set(0, 0, 500);

            // Renderer
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            document.getElementById('container').appendChild(renderer.domElement);

            // Lighting
            const ambientLight = new THREE.AmbientLight(0x404040, 0.3);
            scene.add(ambientLight);

            const sunLight = new THREE.DirectionalLight(0xffffff, 1);
            sunLight.position.set(500, 0, 500);
            sunLight.castShadow = true;
            sunLight.shadow.mapSize.width = 2048;
            sunLight.shadow.mapSize.height = 2048;
            scene.add(sunLight);

            // Create Earth
            createEarth();
            
            // Create stars
            createStarfield();
            
            // Create satellites
            createSatellites();
            
            // Setup controls
            setupControls();
            
            // Update UI
            updateSatelliteList();
            updateTimeDisplay();
            
            // Hide loading
            document.getElementById('loading').style.display = 'none';
            
            // Start animation
            animate();
        }

        function createEarth() {
    earthGroup = new THREE.Group();
    
    // Earth sphere
    const earthGeometry = new THREE.SphereGeometry(EARTH_RADIUS, 128, 128);
    
    // Create canvas and recreate your blue glowing continents texture
    const canvas = document.createElement('canvas');
    canvas.width = 2048;
    canvas.height = 1024;
    const ctx = canvas.getContext('2d');
    
    // Black space background
    ctx.fillStyle = '#000011';
    ctx.fillRect(0, 0, 2048, 1024);
    
    // Create the glowing blue continent outlines like in your image
    ctx.strokeStyle = '#00ccff';
    ctx.lineWidth = 2;
    ctx.shadowColor = '#00ccff';
    ctx.shadowBlur = 8;
    
    // Draw continent outlines (simplified versions)
    // North America
    ctx.beginPath();
    ctx.moveTo(200, 200);
    ctx.lineTo(300, 180);
    ctx.lineTo(400, 220);
    ctx.lineTo(450, 300);
    ctx.lineTo(350, 350);
    ctx.lineTo(250, 320);
    ctx.closePath();
    ctx.stroke();
    
    // South America
    ctx.beginPath();
    ctx.moveTo(400, 400);
    ctx.lineTo(450, 450);
    ctx.lineTo(420, 600);
    ctx.lineTo(380, 650);
    ctx.lineTo(350, 500);
    ctx.closePath();
    ctx.stroke();
    
    // Europe/Asia
    ctx.beginPath();
    ctx.moveTo(800, 150);
    ctx.lineTo(1200, 120);
    ctx.lineTo(1400, 200);
    ctx.lineTo(1300, 300);
    ctx.lineTo(900, 280);
    ctx.closePath();
    ctx.stroke();
    
    // Africa
    ctx.beginPath();
    ctx.moveTo(850, 300);
    ctx.lineTo(950, 280);
    ctx.lineTo(980, 500);
    ctx.lineTo(920, 600);
    ctx.lineTo(850, 580);
    ctx.lineTo(820, 400);
    ctx.closePath();
    ctx.stroke();
    
    // Australia
    ctx.beginPath();
    ctx.moveTo(1350, 580);
    ctx.lineTo(1450, 570);
    ctx.lineTo(1480, 620);
    ctx.lineTo(1400, 640);
    ctx.closePath();
    ctx.stroke();
    
    // Add country borders with thinner lines
    ctx.lineWidth = 1;
    ctx.shadowBlur = 4;
    
    // Add grid lines for country borders
    for (let i = 0; i < 20; i++) {
        ctx.beginPath();
        ctx.moveTo(i * 100, 0);
        ctx.lineTo(i * 100, 1024);
        ctx.globalAlpha = 0.2;
        ctx.stroke();
        ctx.globalAlpha = 1;
    }
    
    for (let i = 0; i < 10; i++) {
        ctx.beginPath();
        ctx.moveTo(0, i * 100);
        ctx.lineTo(2048, i * 100);
        ctx.globalAlpha = 0.2;
        ctx.stroke();
        ctx.globalAlpha = 1;
    }
    
    const earthTexture = new THREE.CanvasTexture(canvas);
    
    // Create Earth material with the custom texture
    const earthMaterial = new THREE.MeshPhongMaterial({ 
        map: earthTexture,
        transparent: false,
        shininess: 30,
        specular: 0x111111
    });
    
    earth = new THREE.Mesh(earthGeometry, earthMaterial);
    earth.receiveShadow = true;
    earth.castShadow = true;
    earthGroup.add(earth);
    
    // Cloud layer (keep existing cloud generation)
    const cloudCanvas = document.createElement('canvas');
    cloudCanvas.width = 2048;
    cloudCanvas.height = 1024;
    const cloudCtx = cloudCanvas.getContext('2d');
    
    // Generate clouds
    cloudCtx.fillStyle = 'rgba(255, 255, 255, 0.3)';
    for (let i = 0; i < 100; i++) {
        const x = Math.random() * 2048;
        const y = Math.random() * 1024;
        const size = Math.random() * 40 + 20;
        cloudCtx.beginPath();
        cloudCtx.arc(x, y, size, 0, Math.PI * 2);
        cloudCtx.fill();
    }
    
    const cloudTexture = new THREE.CanvasTexture(cloudCanvas);
    
    // Cloud layer
    const cloudGeometry = new THREE.SphereGeometry(EARTH_RADIUS * 1.01, 64, 64);
    const cloudMaterial = new THREE.MeshLambertMaterial({
        map: cloudTexture,
        transparent: true,
        opacity: 0.4
    });
    const clouds = new THREE.Mesh(cloudGeometry, cloudMaterial);
    earthGroup.add(clouds);
    
    // Atmosphere glow
    const atmosphereGeometry = new THREE.SphereGeometry(EARTH_RADIUS * 1.03, 32, 32);
    const atmosphereMaterial = new THREE.ShaderMaterial({
        vertexShader: `
            varying vec3 vNormal;
            void main() {
                vNormal = normalize(normalMatrix * normal);
                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
            }
        `,
        fragmentShader: `
            varying vec3 vNormal;
            void main() {
                float intensity = pow(0.7 - dot(vNormal, vec3(0, 0, 1.0)), 2.0);
                gl_FragColor = vec4(0.3, 0.6, 1.0, 1.0) * intensity;
            }
        `,
        blending: THREE.AdditiveBlending,
        side: THREE.BackSide,
        transparent: true
    });
    const atmosphere = new THREE.Mesh(atmosphereGeometry, atmosphereMaterial);
    earthGroup.add(atmosphere);
    
    scene.add(earthGroup);
}
        function createStarfield() {
            const starGeometry = new THREE.BufferGeometry();
            const starCount = 2000;
            const positions = new Float32Array(starCount * 3);
            
            for (let i = 0; i < starCount * 3; i += 3) {
                const radius = 10000;
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.acos(2 * Math.random() - 1);
                
                positions[i] = radius * Math.sin(phi) * Math.cos(theta);
                positions[i + 1] = radius * Math.sin(phi) * Math.sin(theta);
                positions[i + 2] = radius * Math.cos(phi);
            }
            
            starGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            
            const starMaterial = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 1,
                sizeAttenuation: false
            });
            
            const stars = new THREE.Points(starGeometry, starMaterial);
            scene.add(stars);
        }

        function createSatellites() {
            satellites = [];
            
            satelliteData.forEach((satData, index) => {
                // Satellite mesh
                const geometry = new THREE.SphereGeometry(1, 8, 8);
                let color;
                
                switch(satData.type) {
                    case 'starlink': color = 0x00ff41; break;
                    case 'iss': color = 0xff4757; break;
                    case 'gps': color = 0x3742fa; break;
                    case 'weather': color = 0xffa502; break;
                    case 'communication': color = 0x2ed573; break;
                    default: color = 0xffffff;
                }
                
                const material = new THREE.MeshBasicMaterial({ 
                    color: color,
                    transparent: true,
                    opacity: 0.8
                });
                
                const satellite = new THREE.Mesh(geometry, material);
                satellite.userData = { ...satData, index };
                
                // Orbit line
                const orbitGeometry = new THREE.RingGeometry(
                    EARTH_RADIUS + satData.altitude * 0.02,
                    EARTH_RADIUS + satData.altitude * 0.02 + 0.2,
                    64
                );
                const orbitMaterial = new THREE.MeshBasicMaterial({
                    color: color,
                    transparent: true,
                    opacity: 0.1,
                    side: THREE.DoubleSide
                });
                const orbit = new THREE.Mesh(orbitGeometry, orbitMaterial);
                orbit.rotation.x = Math.PI / 2;
                orbit.rotation.z = satData.inclination * Math.PI / 180;
                orbit.rotation.y = satData.raan * Math.PI / 180;
                
                scene.add(satellite);
                scene.add(orbit);
                
                satellites.push({
                    mesh: satellite,
                    orbit: orbit,
                    data: satData
                });
            });
        }

        function updateSatellitePositions() {
            const time = Date.now() * 0.0005;
            
            satellites.forEach(sat => {
                const data = sat.data;
                const radius = EARTH_RADIUS + data.altitude * 0.02;
                
                // Calculate position
                const angle = time * data.speed * 0.01 + data.phase;
                const inclination = data.inclination * Math.PI / 180;
                const raan = data.raan * Math.PI / 180;
                
                const x = radius * Math.cos(angle);
                const y = radius * Math.sin(angle) * Math.sin(inclination);
                const z = radius * Math.sin(angle) * Math.cos(inclination);
                
                // Apply rotation for RAAN
                const finalX = x * Math.cos(raan) - z * Math.sin(raan);
                const finalZ = x * Math.sin(raan) + z * Math.cos(raan);
                
                sat.mesh.position.set(finalX, y, finalZ);
                sat.orbit.visible = showOrbits;
            });
        }

        function setupControls() {
            const canvas = renderer.domElement;
            
            canvas.addEventListener('mousedown', (e) => {
                controls.isMouseDown = true;
                controls.mouseX = e.clientX;
                controls.mouseY = e.clientY;
            });
            
            canvas.addEventListener('mouseup', () => {
                controls.isMouseDown = false;
            });
            
            canvas.addEventListener('mousemove', (e) => {
                if (controls.isMouseDown) {
                    const deltaX = e.clientX - controls.mouseX;
                    const deltaY = e.clientY - controls.mouseY;
                    
                    earthGroup.rotation.y += deltaX * 0.01;
                    earthGroup.rotation.x += deltaY * 0.01;
                    
                    controls.mouseX = e.clientX;
                    controls.mouseY = e.clientY;
                }
            });
            
            canvas.addEventListener('wheel', (e) => {
                camera.position.multiplyScalar(1 + e.deltaY * 0.001);
                camera.position.clampLength(200, 2000);
            });
            
            // Satellite clicking
            canvas.addEventListener('click', (e) => {
                const mouse = new THREE.Vector2();
                mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
                mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
                
                const raycaster = new THREE.Raycaster();
                raycaster.setFromCamera(mouse, camera);
                
                const satelliteMeshes = satellites.map(s => s.mesh);
                const intersects = raycaster.intersectObjects(satelliteMeshes);
                
                if (intersects.length > 0) {
                    selectSatellite(intersects[0].object.userData);
                }
            });
        }

        function updateSatelliteList() {
            const categories = {};
            satelliteData.forEach(sat => {
                if (!categories[sat.type]) categories[sat.type] = [];
                categories[sat.type].push(sat);
            });
            
            let html = '';
            Object.entries(categories).forEach(([type, sats]) => {
                const typeName = type.charAt(0).toUpperCase() + type.slice(1);
                html += `<div class="satellite-category">
                    <div class="category-header">${typeName} (${sats.length})</div>`;
                
                sats.forEach(sat => {
                    html += `<div class="satellite-item" onclick="selectSatelliteByName('${sat.name}')">
                        <div class="sat-indicator ${sat.type}"></div>
                        <div class="sat-name">${sat.name}</div>
                        <div class="sat-altitude">${sat.altitude}km</div>
                    </div>`;
                });
                
                html += '</div>';
            });
            
            document.getElementById('categories').innerHTML = html;
        }

        function selectSatelliteByName(name) {
            const satData = satelliteData.find(s => s.name === name);
            if (satData) selectSatellite(satData);
        }

        function selectSatellite(satData) {
            selectedSatellite = satData;
            
            // Update UI
            document.querySelectorAll('.satellite-item').forEach(item => {
                item.classList.remove('selected');
            });
            
            const selectedItem = Array.from(document.querySelectorAll('.satellite-item'))
                .find(item => item.textContent.includes(satData.name));
            if (selectedItem) selectedItem.classList.add('selected');
            
            // Show details panel
            document.getElementById('sat-title').textContent = satData.name;
            document.getElementById('sat-details').innerHTML = `
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Type</div>
                        <div class="info-value">${satData.type.toUpperCase()}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Altitude</div>
                        <div class="info-value">${satData.altitude} km</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Inclination</div>
                        <div class="info-value">${satData.inclination}Â°</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Speed</div>
                        <div class="info-value">${satData.speed} km/s</div>
                    </div>
                </div>
            `;
            
            document.getElementById('right-panel').classList.add('active');
        }

        function setView(view) {
            currentView = view;
            document.querySelectorAll('.control-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (view === 'earth') {
                camera.position.set(0, 0, 500);
            } else if (view === 'ground') {
                camera.position.set(0, EARTH_RADIUS + 10, 0);
                camera.lookAt(0, EARTH_RADIUS + 100, -200);
            }
        }

        function toggleOrbits() {
            showOrbits = !showOrbits;
            event.target.textContent = showOrbits ? 'Hide Orbits' : 'Show Orbits';
        }

        function updateLocation() {
            const location = document.getElementById('location-input').value;
            // Geocoding would happen here
            console.log('Location updated:', location);
        }

        function updateTimeDisplay() {
            const now = new Date();
            document.getElementById('current-time').textContent = 
                `UTC: ${now.toISOString().slice(0, 19).replace('T', ' ')}`;
        }

        function animate() {
            requestAnimationFrame(animate);
            
            updateSatellitePositions();
            updateTimeDisplay();
            
            // Rotate Earth slowly
            earth.rotation.y += 0.001;
            
            // Camera smoothing
            camera.lookAt(cameraTarget);
            
            renderer.render(scene, camera);
        }

        // Handle resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Close info panel when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('#right-panel') && !e.target.closest('.satellite-item')) {
                document.getElementById('right-panel').classList.remove('active');
            }
        });

        // Initialize
        init();
    </script>
</body>
</html>